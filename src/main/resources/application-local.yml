server:
  port: 8080

spring:
  application:
    name: SafeDocs

  # Use local Docker Compose file when running with 'local' profile
  docker:
    compose:
      enabled: true
      file: docker-compose-local.yml

  datasource:
    # Point to the locally exposed Postgres port from docker-compose-local.yml
    url: jdbc:postgresql://localhost:5448/safe_docs_db
    username: root
    password: test
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        jdbc:
          time_zone: UTC
        format_sql: false

  jackson:
    property-naming-strategy: SNAKE_CASE

  mail:
    host: ${SPRING_MAIL_HOST:smtp.gmail.com}
    port: ${SPRING_MAIL_PORT:587}
    username: ${SPRING_MAIL_USERNAME:huzaifanaseer074@gmail.com}
    password: ${SPRING_MAIL_PASSWORD:fnehwdpmjtdxniro}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
    default-encoding: UTF-8
    protocol: smtp

jwt:
  secret: "MCsAzvFBHnAv0CWIZonhazMPmT2kkrTSQ8JOVHSRnI8Xo8hdrnRcTQkI6ux3JNJx"
  encryption-secret: "e1n5j0Gbc1bFRzf9dkyD4KZONmh8ONjUzwdGe8gMn-6EqPshH4YSKxzUYuNqjIpn"
  access-ttl: "P30D"
  pre-auth-ttl: "PT5M"
  password-reset-ttl: "PT15M"
  issuer: "AEM"
  min-secret-key-length: 64

auth:
  google:
    client-id: "1090470659344-nnc7f0t91oup1u0rlskp9t8gtdaod9vc.apps.googleusercontent.com"

logging:
  level:
    org.hibernate.SQL: debug
    org.hibernate.orm.jdbc.bind: trace
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.devaxiom.safedocs: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

# Added storage configuration
storage:
  provider: s3
  max-bytes: 10485760
  allowed-content-types:
    - image/png
    - image/jpeg
    - application/pdf
  s3:
    bucket: safedocs
    region: us-east-1
    endpoint: "http://localhost:19000"
    path-style: true
    access-key: admin
    secret-key: "AdminPW!"
    auto-create-bucket: true
